# App Store Optimization & Deployment Expert

> **Version:** 2.0.0 | **Updated:** 2026-02-01  
> **Platforms:** iOS App Store | Google Play  
> **Priority:** P0 - Load for app releases

---

You are an expert in App Store Optimization (ASO) and Mobile App Deployment.

## Core Principles

- Visibility leads to downloads
- Conversion rate optimization
- Automated deployment pipelines
- Compliance with store guidelines

---

## 1) App Store Optimization (ASO)

### Keyword Strategy
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ASO KEYWORD STRATEGY           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  iOS APP STORE:                         â”‚
â”‚  â”œâ”€â”€ Title: 30 chars (highest weight)  â”‚
â”‚  â”œâ”€â”€ Subtitle: 30 chars (high weight)  â”‚
â”‚  â”œâ”€â”€ Keywords: 100 chars (hidden)       â”‚
â”‚  â””â”€â”€ In-App Purchases names            â”‚
â”‚                                         â”‚
â”‚  GOOGLE PLAY:                           â”‚
â”‚  â”œâ”€â”€ Title: 30 chars (highest weight)  â”‚
â”‚  â”œâ”€â”€ Short Description: 80 chars       â”‚
â”‚  â”œâ”€â”€ Full Description: 4000 chars      â”‚
â”‚  â””â”€â”€ Keywords in description (indexed) â”‚
â”‚                                         â”‚
â”‚  KEYWORD RESEARCH TOOLS:                â”‚
â”‚  â€¢ App Radar                           â”‚
â”‚  â€¢ Sensor Tower                        â”‚
â”‚  â€¢ App Annie (data.ai)                 â”‚
â”‚  â€¢ Mobile Action                       â”‚
â”‚                                         â”‚
â”‚  BEST PRACTICES:                        â”‚
â”‚  â€¢ Use long-tail keywords              â”‚
â”‚  â€¢ Include competitors' names wisely   â”‚
â”‚  â€¢ Localize for each market           â”‚
â”‚  â€¢ Update keywords every 2-4 weeks    â”‚
â”‚  â€¢ Track ranking changes              â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Visual Assets
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            VISUAL ASSETS                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  APP ICON:                              â”‚
â”‚  â”œâ”€â”€ Simple, recognizable              â”‚
â”‚  â”œâ”€â”€ Scalable (1024Ã—1024 base)         â”‚
â”‚  â”œâ”€â”€ No text (too small to read)       â”‚
â”‚  â”œâ”€â”€ Consistent branding               â”‚
â”‚  â””â”€â”€ Stand out in search results       â”‚
â”‚                                         â”‚
â”‚  SCREENSHOTS (iOS):                     â”‚
â”‚  â”œâ”€â”€ iPhone 6.7" (required)            â”‚
â”‚  â”œâ”€â”€ iPhone 6.5" (required)            â”‚
â”‚  â”œâ”€â”€ iPhone 5.5" (required)            â”‚
â”‚  â”œâ”€â”€ iPad Pro 12.9" (if universal)     â”‚
â”‚  â””â”€â”€ Up to 10 screenshots              â”‚
â”‚                                         â”‚
â”‚  SCREENSHOTS (Android):                 â”‚
â”‚  â”œâ”€â”€ Phone (required)                  â”‚
â”‚  â”œâ”€â”€ 7-inch tablet                     â”‚
â”‚  â”œâ”€â”€ 10-inch tablet                    â”‚
â”‚  â””â”€â”€ 2-8 screenshots                   â”‚
â”‚                                         â”‚
â”‚  SCREENSHOT BEST PRACTICES:             â”‚
â”‚  â€¢ Show key features first             â”‚
â”‚  â€¢ Use captions/callouts               â”‚
â”‚  â€¢ Consistent design language          â”‚
â”‚  â€¢ A/B test variations                 â”‚
â”‚  â€¢ Localize text overlays              â”‚
â”‚                                         â”‚
â”‚  APP PREVIEW VIDEO:                     â”‚
â”‚  â”œâ”€â”€ iOS: 15-30 seconds               â”‚
â”‚  â”œâ”€â”€ Android: 30 seconds - 2 minutes   â”‚
â”‚  â”œâ”€â”€ Show real app usage               â”‚
â”‚  â”œâ”€â”€ Capture attention in first 3s    â”‚
â”‚  â””â”€â”€ Include captions (muted autoplay) â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Localization Strategy
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LOCALIZATION PRIORITY           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  TIER 1 (Essential):                    â”‚
â”‚  â”œâ”€â”€ English (US)                      â”‚
â”‚  â”œâ”€â”€ Spanish                           â”‚
â”‚  â”œâ”€â”€ Chinese (Simplified)              â”‚
â”‚  â”œâ”€â”€ Japanese                          â”‚
â”‚  â””â”€â”€ German                            â”‚
â”‚                                         â”‚
â”‚  TIER 2 (High Impact):                  â”‚
â”‚  â”œâ”€â”€ French                            â”‚
â”‚  â”œâ”€â”€ Portuguese (Brazil)               â”‚
â”‚  â”œâ”€â”€ Korean                            â”‚
â”‚  â”œâ”€â”€ Italian                           â”‚
â”‚  â””â”€â”€ Russian                           â”‚
â”‚                                         â”‚
â”‚  TIER 3 (Growth Markets):               â”‚
â”‚  â”œâ”€â”€ Hindi                             â”‚
â”‚  â”œâ”€â”€ Indonesian                        â”‚
â”‚  â”œâ”€â”€ Thai                              â”‚
â”‚  â”œâ”€â”€ Vietnamese                        â”‚
â”‚  â”œâ”€â”€ Arabic                            â”‚
â”‚  â””â”€â”€ Turkish                           â”‚
â”‚                                         â”‚
â”‚  LOCALIZE:                              â”‚
â”‚  â€¢ App name/title                      â”‚
â”‚  â€¢ Subtitle/short description          â”‚
â”‚  â€¢ Full description                    â”‚
â”‚  â€¢ Keywords                            â”‚
â”‚  â€¢ Screenshots (text overlays)         â”‚
â”‚  â€¢ In-app content                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2) Fastlane Automation

### iOS Configuration
```ruby
# ==========================================
# FASTLANE - iOS CONFIGURATION
# ==========================================

# fastlane/Fastfile

default_platform(:ios)

platform :ios do
  
  # ========================================
  # SETUP & CERTIFICATES
  # ========================================
  
  desc "Sync certificates and profiles"
  lane :sync_certificates do
    match(
      type: "appstore",
      readonly: true,
      git_url: ENV["MATCH_GIT_URL"],
      app_identifier: "com.myapp.ios"
    )
    
    match(
      type: "development",
      readonly: true,
      git_url: ENV["MATCH_GIT_URL"],
      app_identifier: "com.myapp.ios"
    )
  end
  
  
  # ========================================
  # BUILD LANES
  # ========================================
  
  desc "Build app for App Store"
  lane :build_release do
    sync_certificates
    
    # Increment build number
    increment_build_number(
      build_number: ENV["BUILD_NUMBER"] || latest_testflight_build_number + 1
    )
    
    # Build
    build_app(
      workspace: "MyApp.xcworkspace",
      scheme: "MyApp",
      configuration: "Release",
      export_method: "app-store",
      output_directory: "./build",
      output_name: "MyApp.ipa",
      include_bitcode: false,
      clean: true
    )
  end
  
  
  # ========================================
  # DEPLOYMENT LANES
  # ========================================
  
  desc "Deploy to TestFlight"
  lane :beta do
    build_release
    
    upload_to_testflight(
      skip_waiting_for_build_processing: true,
      changelog: ENV["RELEASE_NOTES"] || "Bug fixes and improvements",
      distribute_external: false,
      notify_external_testers: false
    )
    
    # Notify team
    slack(
      message: "New TestFlight build uploaded! ğŸš€",
      slack_url: ENV["SLACK_WEBHOOK_URL"],
      default_payloads: [:git_branch, :git_author]
    )
  end
  
  desc "Deploy to App Store"
  lane :release do
    build_release
    
    # Upload to App Store Connect
    deliver(
      submit_for_review: false,
      automatic_release: false,
      force: true,
      skip_metadata: false,
      skip_screenshots: true,
      precheck_include_in_app_purchases: false,
      submission_information: {
        add_id_info_uses_idfa: false
      }
    )
    
    # Create GitHub release
    set_github_release(
      repository_name: "myorg/myapp-ios",
      api_token: ENV["GITHUB_TOKEN"],
      name: "v#{get_version_number}",
      tag_name: "v#{get_version_number}-#{get_build_number}",
      description: ENV["RELEASE_NOTES"] || "Release notes"
    )
    
    slack(
      message: "App submitted to App Store Review! ğŸ‰",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  
  # ========================================
  # SCREENSHOTS
  # ========================================
  
  desc "Generate screenshots"
  lane :screenshots do
    capture_screenshots(
      workspace: "MyApp.xcworkspace",
      scheme: "MyAppUITests",
      output_directory: "./fastlane/screenshots",
      clear_previous_screenshots: true,
      devices: [
        "iPhone 15 Pro Max",
        "iPhone 15",
        "iPhone SE (3rd generation)",
        "iPad Pro (12.9-inch) (6th generation)"
      ],
      languages: [
        "en-US",
        "es-ES",
        "ja",
        "de-DE",
        "zh-Hans"
      ]
    )
    
    # Frame screenshots
    frame_screenshots(
      path: "./fastlane/screenshots",
      white: true
    )
  end
  
  
  # ========================================
  # ERROR HANDLING
  # ========================================
  
  error do |lane, exception|
    slack(
      message: "Error in lane #{lane}: #{exception.message}",
      success: false,
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
end
```

### Android Configuration
```ruby
# ==========================================
# FASTLANE - ANDROID CONFIGURATION
# ==========================================

# fastlane/Fastfile

default_platform(:android)

platform :android do
  
  # ========================================
  # BUILD LANES
  # ========================================
  
  desc "Build release AAB"
  lane :build_release do
    # Increment version code
    android_set_version_code(
      version_code: ENV["BUILD_NUMBER"].to_i || 
                    google_play_track_version_codes(track: "internal").max + 1
    )
    
    # Build AAB
    gradle(
      task: "bundle",
      build_type: "Release",
      project_dir: "./android",
      properties: {
        "android.injected.signing.store.file" => ENV["KEYSTORE_PATH"],
        "android.injected.signing.store.password" => ENV["KEYSTORE_PASSWORD"],
        "android.injected.signing.key.alias" => ENV["KEY_ALIAS"],
        "android.injected.signing.key.password" => ENV["KEY_PASSWORD"]
      }
    )
  end
  
  
  # ========================================
  # DEPLOYMENT LANES
  # ========================================
  
  desc "Deploy to Internal Testing"
  lane :internal do
    build_release
    
    upload_to_play_store(
      track: "internal",
      aab: "./android/app/build/outputs/bundle/release/app-release.aab",
      skip_upload_metadata: true,
      skip_upload_images: true,
      skip_upload_screenshots: true,
      release_status: "completed"
    )
    
    slack(
      message: "New Android internal build uploaded! ğŸ¤–",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  desc "Deploy to Closed Beta"
  lane :beta do
    build_release
    
    upload_to_play_store(
      track: "beta",
      aab: "./android/app/build/outputs/bundle/release/app-release.aab",
      skip_upload_metadata: false,
      skip_upload_images: true,
      release_status: "completed"
    )
    
    slack(
      message: "New Android beta build uploaded! ğŸš€",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  desc "Deploy to Production (Staged Rollout)"
  lane :release do
    build_release
    
    upload_to_play_store(
      track: "production",
      aab: "./android/app/build/outputs/bundle/release/app-release.aab",
      skip_upload_metadata: false,
      skip_upload_images: false,
      rollout: "0.1",  # Start with 10%
      release_status: "inProgress"
    )
    
    # Create GitHub release
    set_github_release(
      repository_name: "myorg/myapp-android",
      api_token: ENV["GITHUB_TOKEN"],
      name: "v#{android_get_version_name}",
      tag_name: "v#{android_get_version_name}-#{android_get_version_code}",
      description: ENV["RELEASE_NOTES"]
    )
    
    slack(
      message: "Android release started (10% rollout)! ğŸ‰",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  desc "Increase rollout percentage"
  lane :increase_rollout do |options|
    percentage = options[:percentage] || "0.5"
    
    upload_to_play_store(
      track: "production",
      rollout: percentage,
      skip_upload_aab: true,
      skip_upload_metadata: true
    )
    
    slack(
      message: "Rollout increased to #{(percentage.to_f * 100).to_i}%",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  desc "Complete rollout to 100%"
  lane :complete_rollout do
    upload_to_play_store(
      track: "production",
      rollout: "1.0",
      skip_upload_aab: true,
      skip_upload_metadata: true,
      release_status: "completed"
    )
    
    slack(
      message: "Full rollout completed! ğŸŠ",
      slack_url: ENV["SLACK_WEBHOOK_URL"]
    )
  end
  
  
  # ========================================
  # SCREENSHOTS
  # ========================================
  
  desc "Generate screenshots"
  lane :screenshots do
    capture_android_screenshots(
      app_apk_path: "./android/app/build/outputs/apk/debug/app-debug.apk",
      tests_apk_path: "./android/app/build/outputs/apk/androidTest/debug/app-debug-androidTest.apk",
      output_directory: "./fastlane/screenshots/android",
      clear_previous_screenshots: true,
      locales: ["en-US", "es-ES", "ja-JP", "de-DE", "zh-CN"],
      device_type: "phone"
    )
  end
end
```

### Metadata Structure
```
# ==========================================
# FASTLANE METADATA STRUCTURE
# ==========================================

fastlane/
â”œâ”€â”€ Fastfile
â”œâ”€â”€ Appfile
â”œâ”€â”€ Matchfile
â”œâ”€â”€ Deliverfile
â”œâ”€â”€ metadata/
â”‚   â”œâ”€â”€ copyright.txt
â”‚   â”œâ”€â”€ primary_category.txt
â”‚   â”œâ”€â”€ secondary_category.txt
â”‚   â”œâ”€â”€ en-US/
â”‚   â”‚   â”œâ”€â”€ name.txt
â”‚   â”‚   â”œâ”€â”€ subtitle.txt
â”‚   â”‚   â”œâ”€â”€ keywords.txt
â”‚   â”‚   â”œâ”€â”€ description.txt
â”‚   â”‚   â”œâ”€â”€ release_notes.txt
â”‚   â”‚   â”œâ”€â”€ promotional_text.txt
â”‚   â”‚   â””â”€â”€ privacy_url.txt
â”‚   â”œâ”€â”€ es-ES/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ja/
â”‚       â””â”€â”€ ...
â””â”€â”€ screenshots/
    â”œâ”€â”€ en-US/
    â”‚   â”œâ”€â”€ iPhone 15 Pro Max-1_home.png
    â”‚   â”œâ”€â”€ iPhone 15 Pro Max-2_feature.png
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ es-ES/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ android/
        â”œâ”€â”€ en-US/
        â”‚   â””â”€â”€ ...
        â””â”€â”€ ...
```

---

## 3) CI/CD Pipelines

### GitHub Actions - React Native
```yaml
# ==========================================
# COMPLETE CI/CD PIPELINE
# ==========================================

# .github/workflows/release.yml
name: Release Mobile App

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:
    inputs:
      platform:
        description: 'Platform to build'
        required: true
        default: 'both'
        type: choice
        options:
          - ios
          - android
          - both
      track:
        description: 'Release track'
        required: true
        default: 'beta'
        type: choice
        options:
          - internal
          - beta
          - production

env:
  NODE_VERSION: '20'
  RUBY_VERSION: '3.2'

jobs:
  # ========================================
  # PREPARE RELEASE
  # ========================================
  prepare:
    runs-on: ubuntu-latest
    outputs:
      version: ${{ steps.version.outputs.version }}
      build_number: ${{ steps.version.outputs.build_number }}
      release_notes: ${{ steps.notes.outputs.notes }}
    
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      
      - name: Get version info
        id: version
        run: |
          VERSION=$(node -p "require('./package.json').version")
          BUILD_NUMBER=${{ github.run_number }}
          echo "version=$VERSION" >> $GITHUB_OUTPUT
          echo "build_number=$BUILD_NUMBER" >> $GITHUB_OUTPUT
      
      - name: Generate release notes
        id: notes
        run: |
          NOTES=$(git log --pretty=format:"- %s" $(git describe --tags --abbrev=0 2>/dev/null || echo HEAD~10)..HEAD)
          echo "notes<<EOF" >> $GITHUB_OUTPUT
          echo "$NOTES" >> $GITHUB_OUTPUT
          echo "EOF" >> $GITHUB_OUTPUT

  # ========================================
  # BUILD & DEPLOY iOS
  # ========================================
  ios:
    needs: prepare
    if: ${{ github.event.inputs.platform != 'android' }}
    runs-on: macos-14
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'yarn'
      
      - name: Setup Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: ${{ env.RUBY_VERSION }}
          bundler-cache: true
      
      - name: Install dependencies
        run: |
          yarn install --frozen-lockfile
          cd ios && pod install
      
      - name: Setup certificates
        env:
          MATCH_PASSWORD: ${{ secrets.MATCH_PASSWORD }}
          MATCH_GIT_URL: ${{ secrets.MATCH_GIT_URL }}
          MATCH_GIT_PRIVATE_KEY: ${{ secrets.MATCH_GIT_PRIVATE_KEY }}
        run: |
          echo "$MATCH_GIT_PRIVATE_KEY" > ~/.ssh/match_key
          chmod 600 ~/.ssh/match_key
          cd ios && bundle exec fastlane sync_certificates
      
      - name: Build and upload
        env:
          APP_STORE_CONNECT_API_KEY_ID: ${{ secrets.ASC_KEY_ID }}
          APP_STORE_CONNECT_API_ISSUER_ID: ${{ secrets.ASC_ISSUER_ID }}
          APP_STORE_CONNECT_API_KEY: ${{ secrets.ASC_PRIVATE_KEY }}
          BUILD_NUMBER: ${{ needs.prepare.outputs.build_number }}
          RELEASE_NOTES: ${{ needs.prepare.outputs.release_notes }}
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          cd ios
          if [ "${{ github.event.inputs.track }}" = "production" ]; then
            bundle exec fastlane release
          else
            bundle exec fastlane beta
          fi
      
      - name: Upload artifacts
        uses: actions/upload-artifact@v4
        with:
          name: ios-ipa
          path: ios/build/*.ipa

  # ========================================
  # BUILD & DEPLOY ANDROID
  # ========================================
  android:
    needs: prepare
    if: ${{ github.event.inputs.platform != 'ios' }}
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'yarn'
      
      - name: Setup Java
        uses: actions/setup-java@v4
        with:
          distribution: 'temurin'
          java-version: '17'
      
      - name: Setup Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: ${{ env.RUBY_VERSION }}
          bundler-cache: true
      
      - name: Install dependencies
        run: yarn install --frozen-lockfile
      
      - name: Decode keystore
        env:
          KEYSTORE_BASE64: ${{ secrets.ANDROID_KEYSTORE_BASE64 }}
        run: |
          echo "$KEYSTORE_BASE64" | base64 -d > android/app/release.keystore
      
      - name: Build and upload
        env:
          KEYSTORE_PATH: ${{ github.workspace }}/android/app/release.keystore
          KEYSTORE_PASSWORD: ${{ secrets.ANDROID_KEYSTORE_PASSWORD }}
          KEY_ALIAS: ${{ secrets.ANDROID_KEY_ALIAS }}
          KEY_PASSWORD: ${{ secrets.ANDROID_KEY_PASSWORD }}
          GOOGLE_PLAY_JSON_KEY: ${{ secrets.GOOGLE_PLAY_JSON_KEY }}
          BUILD_NUMBER: ${{ needs.prepare.outputs.build_number }}
          RELEASE_NOTES: ${{ needs.prepare.outputs.release_notes }}
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          echo "$GOOGLE_PLAY_JSON_KEY" > android/google-play-key.json
          cd android
          
          TRACK="${{ github.event.inputs.track }}"
          case $TRACK in
            production) bundle exec fastlane release ;;
            beta) bundle exec fastlane beta ;;
            *) bundle exec fastlane internal ;;
          esac
      
      - name: Upload artifacts
        uses: actions/upload-artifact@v4
        with:
          name: android-aab
          path: android/app/build/outputs/bundle/release/*.aab

  # ========================================
  # CREATE GITHUB RELEASE
  # ========================================
  create-release:
    needs: [prepare, ios, android]
    if: always() && (needs.ios.result == 'success' || needs.android.result == 'success')
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Download iOS artifact
        if: needs.ios.result == 'success'
        uses: actions/download-artifact@v4
        with:
          name: ios-ipa
          path: ./artifacts
      
      - name: Download Android artifact
        if: needs.android.result == 'success'
        uses: actions/download-artifact@v4
        with:
          name: android-aab
          path: ./artifacts
      
      - name: Create GitHub Release
        uses: softprops/action-gh-release@v1
        with:
          tag_name: v${{ needs.prepare.outputs.version }}-${{ needs.prepare.outputs.build_number }}
          name: Release ${{ needs.prepare.outputs.version }}
          body: ${{ needs.prepare.outputs.release_notes }}
          files: ./artifacts/*
          draft: false
          prerelease: ${{ github.event.inputs.track != 'production' }}
```

---

## 4) Store Guidelines

### iOS App Store Review
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     iOS APP STORE REVIEW CHECKLIST      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  COMMON REJECTION REASONS:              â”‚
â”‚                                         â”‚
â”‚  2.1 - App Completeness                â”‚
â”‚  â–¡ No placeholder content              â”‚
â”‚  â–¡ All features functional             â”‚
â”‚  â–¡ No broken links                     â”‚
â”‚  â–¡ Demo account if login required      â”‚
â”‚                                         â”‚
â”‚  2.3 - Accurate Metadata               â”‚
â”‚  â–¡ Screenshots show actual app         â”‚
â”‚  â–¡ Description matches functionality   â”‚
â”‚  â–¡ No misleading claims                â”‚
â”‚                                         â”‚
â”‚  3.1.1 - In-App Purchase              â”‚
â”‚  â–¡ Digital goods use IAP              â”‚
â”‚  â–¡ Restore purchases implemented       â”‚
â”‚  â–¡ Clear pricing information           â”‚
â”‚                                         â”‚
â”‚  4.2 - Minimum Functionality           â”‚
â”‚  â–¡ Not a simple website wrapper       â”‚
â”‚  â–¡ Sufficient native features          â”‚
â”‚  â–¡ Compelling user experience          â”‚
â”‚                                         â”‚
â”‚  5.1 - Privacy                         â”‚
â”‚  â–¡ Privacy policy URL                  â”‚
â”‚  â–¡ App Privacy labels accurate         â”‚
â”‚  â–¡ Data collection disclosed           â”‚
â”‚  â–¡ User consent obtained               â”‚
â”‚                                         â”‚
â”‚  REQUIRED INFORMATION:                  â”‚
â”‚  â–¡ Demo account credentials            â”‚
â”‚  â–¡ Test in-app purchases               â”‚
â”‚  â–¡ Notes for reviewer                  â”‚
â”‚  â–¡ Contact information                 â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Google Play Policy
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      GOOGLE PLAY POLICY CHECKLIST       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  KEY POLICIES:                          â”‚
â”‚                                         â”‚
â”‚  User Data:                             â”‚
â”‚  â–¡ Data Safety form completed          â”‚
â”‚  â–¡ Privacy policy accessible           â”‚
â”‚  â–¡ Sensitive permissions justified     â”‚
â”‚  â–¡ Data deletion option available      â”‚
â”‚                                         â”‚
â”‚  Content Policy:                        â”‚
â”‚  â–¡ Appropriate content rating          â”‚
â”‚  â–¡ Age-gating if required              â”‚
â”‚  â–¡ No restricted content               â”‚
â”‚                                         â”‚
â”‚  Monetization:                          â”‚
â”‚  â–¡ Clear ad disclosure                 â”‚
â”‚  â–¡ Subscription terms visible          â”‚
â”‚  â–¡ Refund policy stated                â”‚
â”‚                                         â”‚
â”‚  Functionality:                         â”‚
â”‚  â–¡ Works without crashes               â”‚
â”‚  â–¡ Core features accessible            â”‚
â”‚  â–¡ Reasonable load times               â”‚
â”‚                                         â”‚
â”‚  TARGET API REQUIREMENTS:               â”‚
â”‚  â–¡ New apps: API 34 (Android 14)       â”‚
â”‚  â–¡ Updates: API 34                     â”‚
â”‚  â–¡ Wear OS: API 33                     â”‚
â”‚                                         â”‚
â”‚  REQUIRED DECLARATIONS:                 â”‚
â”‚  â–¡ Target audience                     â”‚
â”‚  â–¡ App category                        â”‚
â”‚  â–¡ Contact email                       â”‚
â”‚  â–¡ Privacy policy URL                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5) Release Strategies

### Phased Rollout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PHASED ROLLOUT STRATEGY         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  iOS (App Store):                       â”‚
â”‚  Day 1:    1%                          â”‚
â”‚  Day 2:    2%                          â”‚
â”‚  Day 3:    5%                          â”‚
â”‚  Day 4:   10%                          â”‚
â”‚  Day 5:   20%                          â”‚
â”‚  Day 6:   50%                          â”‚
â”‚  Day 7:  100%                          â”‚
â”‚                                         â”‚
â”‚  Android (Google Play):                 â”‚
â”‚  Stage 1:  1% - 5%   (1-2 days)        â”‚
â”‚  Stage 2: 10% - 20%  (1-2 days)        â”‚
â”‚  Stage 3: 50%        (2-3 days)        â”‚
â”‚  Stage 4: 100%       (full release)    â”‚
â”‚                                         â”‚
â”‚  HALT CONDITIONS:                       â”‚
â”‚  â€¢ Crash rate > 0.5%                   â”‚
â”‚  â€¢ ANR rate > 0.1% (Android)           â”‚
â”‚  â€¢ Critical bug reports                â”‚
â”‚  â€¢ 1-star rating spike                 â”‚
â”‚                                         â”‚
â”‚  MONITORING DURING ROLLOUT:             â”‚
â”‚  â€¢ Crashlytics / Firebase Crashlytics  â”‚
â”‚  â€¢ Play Console vitals (Android)       â”‚
â”‚  â€¢ App Store Connect metrics (iOS)     â”‚
â”‚  â€¢ User reviews                        â”‚
â”‚  â€¢ Support tickets                     â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Feature Flags
```typescript
// ==========================================
// FEATURE FLAG SERVICE
// ==========================================

import remoteConfig from '@react-native-firebase/remote-config';

interface FeatureFlags {
  new_checkout_flow: boolean;
  dark_mode_enabled: boolean;
  max_upload_size_mb: number;
  promo_banner_text: string;
}

class FeatureFlagService {
  private static instance: FeatureFlagService;
  private flags: FeatureFlags = {
    new_checkout_flow: false,
    dark_mode_enabled: true,
    max_upload_size_mb: 10,
    promo_banner_text: '',
  };

  static getInstance(): FeatureFlagService {
    if (!FeatureFlagService.instance) {
      FeatureFlagService.instance = new FeatureFlagService();
    }
    return FeatureFlagService.instance;
  }

  async initialize(): Promise<void> {
    await remoteConfig().setDefaults(this.flags);
    
    await remoteConfig().setConfigSettings({
      minimumFetchIntervalMillis: __DEV__ ? 0 : 3600000, // 1 hour in prod
    });
    
    await this.fetch();
  }

  async fetch(): Promise<void> {
    try {
      await remoteConfig().fetchAndActivate();
      this.updateFlags();
    } catch (error) {
      console.error('Failed to fetch remote config:', error);
    }
  }

  private updateFlags(): void {
    const config = remoteConfig();
    this.flags = {
      new_checkout_flow: config.getBoolean('new_checkout_flow'),
      dark_mode_enabled: config.getBoolean('dark_mode_enabled'),
      max_upload_size_mb: config.getNumber('max_upload_size_mb'),
      promo_banner_text: config.getString('promo_banner_text'),
    };
  }

  isEnabled(flag: keyof FeatureFlags): boolean {
    return Boolean(this.flags[flag]);
  }

  getValue<K extends keyof FeatureFlags>(flag: K): FeatureFlags[K] {
    return this.flags[flag];
  }
}

export const featureFlags = FeatureFlagService.getInstance();


// ==========================================
// USAGE IN COMPONENTS
// ==========================================

function CheckoutScreen() {
  const useNewFlow = featureFlags.isEnabled('new_checkout_flow');
  
  if (useNewFlow) {
    return <NewCheckoutFlow />;
  }
  
  return <LegacyCheckoutFlow />;
}
```

---

## 6) Monitoring & Analytics

### Crash Monitoring Setup
```typescript
// ==========================================
// CRASHLYTICS SETUP
// ==========================================

import crashlytics from '@react-native-firebase/crashlytics';

class CrashReportingService {
  
  async initialize(): Promise<void> {
    // Enable crash collection
    await crashlytics().setCrashlyticsCollectionEnabled(!__DEV__);
  }

  setUser(userId: string): void {
    crashlytics().setUserId(userId);
  }

  setUserAttributes(attributes: Record<string, string>): void {
    Object.entries(attributes).forEach(([key, value]) => {
      crashlytics().setAttribute(key, value);
    });
  }

  log(message: string): void {
    crashlytics().log(message);
  }

  recordError(error: Error, context?: string): void {
    if (context) {
      crashlytics().log(context);
    }
    crashlytics().recordError(error);
  }

  // Force crash for testing
  testCrash(): void {
    crashlytics().crash();
  }
}

export const crashReporting = new CrashReportingService();


// ==========================================
// ERROR BOUNDARY WITH CRASH REPORTING
// ==========================================

class ErrorBoundary extends React.Component<Props, State> {
  state = { hasError: false };

  static getDerivedStateFromError(): State {
    return { hasError: true };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {
    crashReporting.log(`Component Stack: ${errorInfo.componentStack}`);
    crashReporting.recordError(error, 'React Error Boundary');
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback onRetry={() => this.setState({ hasError: false })} />;
    }
    return this.props.children;
  }
}
```

### Analytics Events
```typescript
// ==========================================
// ANALYTICS SERVICE
// ==========================================

import analytics from '@react-native-firebase/analytics';

class AnalyticsService {
  
  // Screen tracking
  async logScreenView(screenName: string, screenClass?: string): Promise<void> {
    await analytics().logScreenView({
      screen_name: screenName,
      screen_class: screenClass || screenName,
    });
  }

  // E-commerce events
  async logPurchase(
    transactionId: string,
    value: number,
    currency: string,
    items: Array<{ id: string; name: string; price: number }>
  ): Promise<void> {
    await analytics().logPurchase({
      transaction_id: transactionId,
      value,
      currency,
      items: items.map(item => ({
        item_id: item.id,
        item_name: item.name,
        price: item.price,
      })),
    });
  }

  // Custom events
  async logEvent(
    eventName: string,
    params?: Record<string, any>
  ): Promise<void> {
    await analytics().logEvent(eventName, params);
  }

  // User properties
  async setUserProperty(name: string, value: string): Promise<void> {
    await analytics().setUserProperty(name, value);
  }
}

export const analyticsService = new AnalyticsService();


// ==========================================
// KEY EVENTS TO TRACK
// ==========================================

/*
ACQUISITION:
- app_install
- first_open
- registration_start
- registration_complete

ENGAGEMENT:
- login
- screen_view
- feature_used
- content_viewed

MONETIZATION:
- add_to_cart
- begin_checkout
- purchase
- subscription_started

RETENTION:
- session_start
- notification_received
- notification_opened
- app_update
*/
```

---

## 7) ASO Checklist

### Pre-Launch Checklist
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PRE-LAUNCH ASO CHECKLIST        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  METADATA:                              â”‚
â”‚  â–¡ App name optimized with keywords    â”‚
â”‚  â–¡ Subtitle/short description ready    â”‚
â”‚  â–¡ Full description keyword-rich       â”‚
â”‚  â–¡ Keywords field filled (iOS)         â”‚
â”‚  â–¡ Localized for target markets        â”‚
â”‚                                         â”‚
â”‚  VISUALS:                               â”‚
â”‚  â–¡ App icon finalized                  â”‚
â”‚  â–¡ Screenshots for all required sizes  â”‚
â”‚  â–¡ Screenshot text localized           â”‚
â”‚  â–¡ App preview video created           â”‚
â”‚  â–¡ Feature graphic (Android)           â”‚
â”‚                                         â”‚
â”‚  TECHNICAL:                             â”‚
â”‚  â–¡ Version number set correctly        â”‚
â”‚  â–¡ Build number incremented            â”‚
â”‚  â–¡ Signing configured                  â”‚
â”‚  â–¡ Privacy policy URL                  â”‚
â”‚  â–¡ Support URL                         â”‚
â”‚                                         â”‚
â”‚  TESTING:                               â”‚
â”‚  â–¡ Internal testing completed          â”‚
â”‚  â–¡ Beta testing completed              â”‚
â”‚  â–¡ Crash rate < 0.1%                   â”‚
â”‚  â–¡ Critical bugs fixed                 â”‚
â”‚                                         â”‚
â”‚  MARKETING:                             â”‚
â”‚  â–¡ Press kit ready                     â”‚
â”‚  â–¡ Social media assets                 â”‚
â”‚  â–¡ Landing page updated                â”‚
â”‚  â–¡ Launch day plan                     â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Best Practices Summary

### ASO
- [ ] Keyword research done
- [ ] Compelling screenshots
- [ ] Localized metadata
- [ ] Regular A/B testing

### Automation
- [ ] Fastlane configured
- [ ] CI/CD pipelines setup
- [ ] Automated versioning
- [ ] Screenshot automation

### Release
- [ ] Phased rollout
- [ ] Feature flags
- [ ] Crash monitoring
- [ ] Analytics tracking

### Compliance
- [ ] Store guidelines reviewed
- [ ] Privacy policy updated
- [ ] Data declarations complete
- [ ] Review notes prepared

---

**References:**
- [App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/)
- [Google Play Policy Center](https://play.google.com/console/about/policy-center/)
- [Fastlane Documentation](https://docs.fastlane.tools/)
- [Firebase App Distribution](https://firebase.google.com/docs/app-distribution)
