# üéØ ANALYZE EXISTING PROJECT - ULTIMATE v3.0

**Version:** 3.0 ULTIMATE  
**Completeness:** 100/100  
**Purpose:** Framework-agnostic comprehensive codebase analysis  
**Categories:** 17 (12 core + 5 advanced)  
**Output:** 3 complete files

---

## ‚úÇÔ∏è **CUT HERE** ‚¨áÔ∏è (Copy ALL text below until next ‚úÇÔ∏è)

---

V·ªõi vai tr√≤ l√† chuy√™n gia cao c·∫•p/ nh√≥m chuy√™n gia cao c·∫•p/ h·ªôi ƒë·ªìng chuy√™n gia cao c·∫•p h√†ng ƒë·∫ßu ph√π h·ª£p, t·ªët nh·∫•t, nƒÉng l·ª±c chuy√™n m√¥n m·∫°nh nh·∫•t.

üéØ CONTEXT:
I have an EXISTING PROJECT that I want to analyze comprehensively and integrate with .agent v5.0 development system.

I need you to perform an ULTIMATE COMPREHENSIVE ANALYSIS to generate complete PROJECT BRIEF and PROJECT CONVENTIONS documentation.

---

üéØ YOUR ROLE:
You are an elite team of Senior Technical Architects (Backend, Frontend, DevOps, Database, Security, Performance). Your task is to:

1. **ANALYZE** the existing codebase COMPREHENSIVELY (17 categories)
2. **EXTRACT** all relevant information (tech stack, features, structure, quality, performance, history)
3. **VISUALIZE** complexity, dependencies, and patterns
4. **GENERATE** complete docs/PLAN.md (project plan with current state assessment)
5. **CREATE** docs/CONVENTIONS.md (all patterns detected)
6. **RECOMMEND** .agent integration + performance improvements

---

üìÅ PROJECT LOCATION:
[PASTE YOUR PROJECT PATH HERE - Example: c:\Projects\MyExistingApp]

üìñ AVAILABLE DOCUMENTATION (Optional):
- README.md: [path or say "Will search"]
- API documentation: [path or say "Will search"]
- Database schema docs: [path or say "Will search"]

---

üîç COMPREHENSIVE ANALYSIS PROTOCOL:

You will perform analysis in **17 CATEGORIES** (12 core + 5 advanced).

---

## CATEGORY 1: TECH STACK DETECTION

**Files to Check:**

```
# Package managers & dependencies
package.json          ‚Üí Node.js/React/Vue/Angular/Next.js
composer.json         ‚Üí PHP/Laravel/Symfony
requirements.txt      ‚Üí Python/Django/Flask/FastAPI
pyproject.toml        ‚Üí Python (modern)
Gemfile               ‚Üí Ruby/Rails
go.mod                ‚Üí Go
Cargo.toml            ‚Üí Rust
pom.xml / build.gradle ‚Üí Java/Kotlin
*.csproj              ‚Üí .NET/C#
pubspec.yaml          ‚Üí Dart/Flutter

# Build & tooling
vite.config.*         ‚Üí Vite
webpack.config.*      ‚Üí Webpack
next.config.*         ‚Üí Next.js
nuxt.config.*         ‚Üí Nuxt.js
tsconfig.json         ‚Üí TypeScript
tailwind.config.*     ‚Üí Tailwind CSS
.eslintrc.*           ‚Üí ESLint
.prettierrc           ‚Üí Prettier

# Infrastructure
Dockerfile            ‚Üí Docker
docker-compose.yml    ‚Üí Docker Compose
*.tf                  ‚Üí Terraform
k8s/ / kubernetes/    ‚Üí Kubernetes
.github/workflows/    ‚Üí GitHub Actions CI/CD
.gitlab-ci.yml        ‚Üí GitLab CI
Jenkinsfile           ‚Üí Jenkins

# Database
.env / .env.example   ‚Üí Database connection info
prisma/schema.prisma  ‚Üí Prisma ORM
database/migrations/  ‚Üí Laravel/Rails migrations
alembic/              ‚Üí Python/SQLAlchemy migrations
```

**Extract:**

1. **Language & Runtime**: Primary language, version, runtime (Node 20, PHP 8.3, Python 3.12, etc.)
2. **Framework**: Name + version + edition (Laravel 12, Next.js 15 App Router, Django 5, etc.)
3. **Frontend**: Framework + UI library + CSS approach (React 19 + Tailwind, Vue 3 + Vuetify, etc.)
4. **Database**: Type + version (PostgreSQL 16, MySQL 8, MongoDB 7, SQLite, etc.)
5. **ORM/ODM**: Eloquent, Prisma, TypeORM, Drizzle, SQLAlchemy, ActiveRecord
6. **Auth**: Strategy (session, JWT, OAuth, Sanctum, Auth.js, Passport, etc.)
7. **API Style**: REST, GraphQL, tRPC, gRPC
8. **Build Tool**: Vite, Webpack, esbuild, Turbopack
9. **Package Manager**: npm, pnpm, yarn, composer, pip, cargo
10. **Infrastructure**: Docker, cloud provider, serverless, VPS
11. **CI/CD**: GitHub Actions, GitLab CI, Jenkins, Vercel, Netlify

**Output Format:**
```
Tech Stack Summary:
  Language: TypeScript 5.4 (Node.js 20 LTS)
  Framework: Next.js 15.1 (App Router)
  Frontend: React 19 + Tailwind CSS v4 + shadcn/ui
  Database: PostgreSQL 16.2
  ORM: Prisma 6.1
  Auth: Auth.js v5 (Google + GitHub OAuth)
  API: REST + Server Actions
  Build: Turbopack (dev) / Webpack (prod)
  Package Manager: pnpm 9.x
  Infra: Docker + Vercel (production)
  CI/CD: GitHub Actions (lint ‚Üí test ‚Üí deploy)
```

---

## CATEGORY 2: ROUTES & API ENDPOINTS

**Files to Check:**

```
# Backend routes
routes/              ‚Üí Laravel (web.php, api.php)
app/api/             ‚Üí Next.js App Router
urls.py              ‚Üí Django
app.py / main.py     ‚Üí Flask/FastAPI
src/routes/          ‚Üí Express/Fastify
config/routes.rb     ‚Üí Rails

# OpenAPI / Swagger
swagger.json / openapi.yaml ‚Üí API spec
```

**Extract:**

1. **Total routes** (grouped by HTTP method: GET/POST/PUT/DELETE)
2. **Auth-protected vs public** routes
3. **API versioning** strategy (v1, v2 or none)
4. **Route patterns** (RESTful? Consistent naming?)
5. **Middleware** applied (auth, rate-limit, CORS, logging)
6. **Missing REST patterns** (CRUD incomplete?)

**Output Format:**
```
Routes Analysis (47 total):
  GET:    22 (47%)  |  POST: 12 (26%)
  PUT:     8 (17%)  |  DELETE: 5 (10%)

  Auth-protected: 38/47 (81%) ‚úÖ
  Public: 9/47 (19%)

  API versioning: /api/v1/* ‚úÖ
  Naming: RESTful conventions ‚úÖ
  Middleware: auth, throttle, cors (consistent)

  Issues:
    - /api/v1/reports: GET only, missing POST/PUT/DELETE
    - /api/v1/settings: No rate limiting
```

---

## CATEGORY 3: CONTROLLERS / HANDLERS / ROUTE HANDLERS

**Files to Check:**
```
app/Http/Controllers/     ‚Üí Laravel
app/api/**/route.ts       ‚Üí Next.js App Router
views.py                  ‚Üí Django
src/controllers/          ‚Üí Express/NestJS
app/controllers/          ‚Üí Rails
```

**Extract:**

1. **Total controllers/handlers** and methods per controller
2. **Average lines per controller** (flag >300 lines)
3. **Fat controllers** ‚Äî business logic in controller (should be in service)
4. **Validation** ‚Äî inline vs Form Request / Zod / class-validator
5. **Error handling** ‚Äî try/catch patterns, consistent error responses
6. **Response format** ‚Äî consistent JSON structure?

**Output Format:**
```
Controllers (18 files):
  Methods: 94 total (avg 5.2/controller)
  Lines: avg 187 lines/controller

  ‚ö†Ô∏è Fat Controllers (>300 lines):
    - UserController: 487 lines ‚Üí Extract to UserService
    - OrderController: 412 lines ‚Üí Extract to OrderService

  Validation: Form Requests ‚úÖ (12/18 controllers)
  Error handling: Inconsistent ‚ö†Ô∏è (5 controllers use try/catch, 13 don't)
  Response format: Consistent JSON ‚úÖ
```

---

## CATEGORY 4: MODELS / DATA LAYER

**Files to Check:**
```
app/Models/               ‚Üí Laravel Eloquent
prisma/schema.prisma      ‚Üí Prisma
src/entities/             ‚Üí TypeORM
models.py                 ‚Üí Django ORM
app/models/               ‚Üí Rails ActiveRecord
src/models/               ‚Üí Mongoose/Sequelize
```

**Extract:**

1. **Total models/entities** and fields per model
2. **Relationships**: hasMany, belongsTo, ManyToMany (map all)
3. **Scopes/Queries**: Custom query methods
4. **Casts/Transforms**: Data type transformations
5. **Soft deletes**: Which models use soft delete
6. **Observers/Hooks**: Event listeners on models
7. **Missing**: Models without timestamps, models without relationships

**Output Format:**
```
Models (12 entities):
  User: 15 fields, 5 relationships (hasMany: posts, comments, orders)
  Post: 12 fields, 3 relationships (belongsTo: user, hasMany: comments)
  Order: 18 fields, 4 relationships (belongsTo: user, hasMany: items)
  ...

  Soft deletes: User ‚úÖ, Post ‚úÖ, Order ‚ùå (should add)
  Timestamps: All models ‚úÖ
  Observers: UserObserver ‚úÖ, PostObserver ‚úÖ

  Issues:
    - Order model missing soft delete (data loss risk)
    - Comment model has no indexes on foreign keys
```

---

## CATEGORY 5: DATABASE MIGRATIONS & SCHEMA

**Files to Check:**
```
database/migrations/      ‚Üí Laravel
prisma/migrations/        ‚Üí Prisma
alembic/versions/         ‚Üí SQLAlchemy
db/migrate/               ‚Üí Rails
migrations/               ‚Üí Django
```

**Extract:**

1. **Total migrations** and chronological order
2. **Schema**: All tables, columns, types, constraints
3. **Indexes**: Which columns indexed, missing indexes
4. **Foreign keys**: Relationships mapped, orphan checks
5. **Data types**: Appropriate choices? (varchar vs text, int vs bigint)
6. **Seed data**: Factory/seeder files present?

**Output Format:**
```
Database Schema:
  Tables: 14 | Migrations: 28
  
  Key Tables:
    users: 15 columns, 3 indexes, 2 FKs
    posts: 12 columns, 2 indexes, 3 FKs
    orders: 18 columns, 4 indexes, 5 FKs

  Missing Indexes: ‚ö†Ô∏è
    - posts.user_id (FK but no index)
    - orders.status (frequently queried)

  Seeds/Factories: 8/14 tables ‚úÖ
```

---

## CATEGORY 6: FRONTEND ARCHITECTURE

**Files to Check:**
```
src/components/           ‚Üí React/Vue/Svelte
src/pages/ or app/        ‚Üí Pages/Routes
src/layouts/              ‚Üí Layout components
src/hooks/ or composables/ ‚Üí Custom hooks
src/stores/ or src/state/ ‚Üí State management
public/ or static/        ‚Üí Static assets
```

**Extract:**

1. **Component count** and organization pattern (atomic, feature-based, flat)
2. **State management**: Redux, Zustand, Pinia, Context, Signals
3. **Routing**: File-based, manual, nested routes
4. **Styling approach**: Tailwind, CSS Modules, Styled Components, Sass
5. **Responsive design**: Mobile-first? Breakpoints?
6. **Accessibility**: ARIA labels, semantic HTML, keyboard navigation
7. **Bundle size**: Total JS/CSS size

**Output Format:**
```
Frontend Architecture:
  Components: 67 (feature-based organization ‚úÖ)
  State: Zustand (3 stores: auth, cart, ui)
  Routing: File-based (Next.js App Router)
  Styling: Tailwind CSS v4 ‚úÖ
  Responsive: Mobile-first ‚úÖ (3 breakpoints)
  A11y: Partial ‚ö†Ô∏è (ARIA on forms, missing on dynamic content)
  Bundle: 245KB gzipped (acceptable)
```

---

## CATEGORY 7: CONFIGURATION & ENVIRONMENT

**Files to Check:**
```
.env.example              ‚Üí Environment variables
config/                   ‚Üí App configuration files
*.config.js/ts            ‚Üí Build/tool configs
docker-compose.yml        ‚Üí Container config
```

**Extract:**

1. **Environment variables**: Listed, categorized (DB, API keys, feature flags)
2. **.env.example**: Exists? Complete? Matches .env usage?
3. **Secrets management**: Hardcoded secrets? (CRITICAL)
4. **Config per environment**: Dev vs staging vs production
5. **Feature flags**: Any toggle system?

**Output Format:**
```
Configuration:
  .env.example: ‚úÖ Exists (24 variables)
  Secrets: ‚úÖ No hardcoded secrets found
  Environments: dev, staging, production ‚úÖ
  Feature flags: None ‚ö†Ô∏è (recommend adding)

  Variables by category:
    Database: 6 vars (DB_HOST, DB_PORT, DB_NAME, ...)
    Auth: 4 vars (JWT_SECRET, OAUTH_CLIENT, ...)
    External APIs: 5 vars (STRIPE_KEY, SENDGRID_KEY, ...)
    App: 9 vars (APP_NAME, APP_URL, APP_DEBUG, ...)
```

---

## CATEGORY 8: SERVICES & BUSINESS LOGIC

**Files to Check:**
```
app/Services/             ‚Üí Laravel
src/services/             ‚Üí Express/NestJS/Next.js
services/                 ‚Üí Django
lib/                      ‚Üí Rails
src/use-cases/            ‚Üí Clean Architecture
```

**Extract:**

1. **Service count** and responsibilities
2. **Service layer pattern**: Thin controller ‚Üí fat service?
3. **Dependency injection**: Used? How?
4. **External API integrations**: Which services call external APIs?
5. **Error handling**: Consistent? Custom exceptions?
6. **Business rules**: Where do they live? Scattered or centralized?

**Output Format:**
```
Services (8 files):
  UserService: Auth, profile, permissions (234 lines)
  OrderService: Checkout, payment, fulfillment (623 lines ‚ö†Ô∏è too large)
  NotificationService: Email, push, SMS (189 lines)
  ...

  Pattern: Service layer ‚úÖ (controllers delegate to services)
  DI: Constructor injection ‚úÖ
  External APIs: Stripe (payments), SendGrid (email), S3 (storage)
  Error handling: Custom exceptions ‚úÖ

  Issues:
    - OrderService too large (623 lines) ‚Üí split into 3
    - PaymentService has no retry logic for Stripe calls
```

---

## CATEGORY 9: TESTS & COVERAGE

**Files to Check:**
```
tests/                    ‚Üí PHP/Laravel
__tests__/ or *.test.*    ‚Üí JavaScript/TypeScript
test/ or spec/            ‚Üí Python/Ruby
cypress/ or e2e/          ‚Üí E2E tests
playwright/               ‚Üí Playwright tests
jest.config.* / vitest.*  ‚Üí Test config
phpunit.xml               ‚Üí PHPUnit config
```

**Extract:**

1. **Test count**: Unit, integration, E2E (by type)
2. **Coverage %**: If measurable
3. **Test patterns**: AAA pattern? Fixtures? Factories?
4. **Mocking**: How? (Jest mocks, Mockery, test doubles)
5. **CI integration**: Tests run on push/PR?
6. **Critical paths tested**: Auth, payments, core features
7. **Missing tests**: Features without tests

**Output Format:**
```
Tests:
  Total: 87 tests (Unit: 52, Integration: 28, E2E: 7)
  Coverage: 68% ‚ö†Ô∏è (target: 80%)
  Pattern: AAA ‚úÖ, Factories ‚úÖ
  CI: ‚úÖ Runs on every PR

  Well-tested: Auth ‚úÖ, User CRUD ‚úÖ, Payments ‚úÖ
  Undertested: Reports ‚ö†Ô∏è, Admin panel ‚ùå, File uploads ‚ùå

  Recommendation: Add 15+ tests to reach 80% coverage
```

---

## CATEGORY 10: DOCUMENTATION QUALITY

**Files to Check:**
```
README.md                 ‚Üí Project overview
docs/                     ‚Üí Documentation folder
CONTRIBUTING.md           ‚Üí Contribution guide
CHANGELOG.md              ‚Üí Version history
API.md or swagger/        ‚Üí API docs
```

**Extract:**

1. **README quality**: Setup instructions? Screenshots? Feature list?
2. **API docs**: Swagger/OpenAPI? Postman collection?
3. **Inline docs**: JSDoc/PHPDoc/docstrings present?
4. **Architecture docs**: System diagrams? ADRs?
5. **Onboarding**: Can a new dev start in <30 minutes?

**Output Format:**
```
Documentation:
  README: ‚úÖ Good (setup, features, screenshots)
  API docs: ‚ö†Ô∏è Partial (Swagger exists but outdated)
  Inline docs: ‚ö†Ô∏è 40% of public functions documented
  Architecture: ‚ùå No system diagrams
  Onboarding: ‚ö†Ô∏è Setup works but missing context

  Score: 6/10 ‚Üí Recommendation: Add architecture diagram + update API docs
```

---

## CATEGORY 11: CODE QUALITY & STANDARDS

**Files to Check:**
```
.eslintrc.* / eslint.config.* ‚Üí JS/TS linting
.prettierrc                    ‚Üí Formatting
phpcs.xml / pint.json          ‚Üí PHP standards
.editorconfig                  ‚Üí Editor config
.husky/                        ‚Üí Git hooks
```

**Extract:**

1. **Linting**: Configured? Rules strict or loose?
2. **Formatting**: Consistent? Auto-formatted?
3. **Git hooks**: Pre-commit checks?
4. **Code patterns**: Consistent naming? DRY? SOLID?
5. **Dead code**: Unused imports, commented-out code, unreachable code
6. **Technical debt**: TODO/FIXME/HACK comments count

**Output Format:**
```
Code Quality:
  Linting: ESLint strict ‚úÖ (148 rules active)
  Formatting: Prettier ‚úÖ (auto-format on save)
  Git hooks: Husky + lint-staged ‚úÖ
  
  Patterns: ‚úÖ Consistent naming (camelCase JS, snake_case PHP)
  Dead code: ‚ö†Ô∏è 12 unused imports, 3 commented blocks
  Tech debt: 18 TODO comments, 4 FIXME, 2 HACK

  Score: 8/10
```

---

## CATEGORY 12: SECURITY POSTURE

**Files to Check:**
```
.env / .env.example       ‚Üí Secrets exposure
middleware/                ‚Üí Auth/CORS/CSP middleware
auth/                     ‚Üí Authentication logic
*.lock                    ‚Üí Dependency lock files
.gitignore                ‚Üí Sensitive files excluded?
```

**Extract:**

1. **Authentication**: Secure? Hashing algorithm? Session management?
2. **Authorization**: RBAC? Policies? Gates?
3. **Input validation**: All inputs validated? Sanitized?
4. **SQL injection**: ORM used? Raw queries safe?
5. **XSS protection**: Output escaping? CSP headers?
6. **CSRF protection**: Tokens? SameSite cookies?
7. **Dependencies**: Known vulnerabilities? (npm audit / composer audit)
8. **Secrets**: Any hardcoded API keys/passwords?
9. **CORS**: Configured correctly?
10. **Rate limiting**: Applied to auth endpoints?

**Output Format:**
```
Security Posture:
  Auth: bcrypt hashing ‚úÖ, session-based ‚úÖ
  Authorization: RBAC with policies ‚úÖ
  Input validation: ‚úÖ All forms validated
  SQL injection: ‚úÖ ORM used exclusively
  XSS: ‚úÖ Output escaping active
  CSRF: ‚úÖ Token middleware
  Dependencies: ‚ö†Ô∏è 2 moderate vulnerabilities (npm audit)
  Secrets: ‚úÖ No hardcoded secrets
  CORS: ‚úÖ Restrictive whitelist
  Rate limiting: ‚ö†Ô∏è Only on login (add to registration, password reset)

  Score: 8/10 ‚Üí Fix: Update vulnerable deps + add rate limits
```

---

## üöÄ ADVANCED CATEGORIES (13-17)

---

## CATEGORY 13: GIT HISTORY & TEAM DYNAMICS

**Commands to Run:**
```bash
# Contributor analysis
git log --pretty=format:"%an" | sort | uniq -c | sort -rn

# Commit frequency (last 3 months)
git log --since="3 months ago" --pretty=format:"%ad" --date=short | sort | uniq -c

# Code churn (most-changed files)
git log --pretty=format: --name-only | sort | uniq -c | sort -rn | head -20
```

**Extract:**
1. **Contributors**: Total, top 3, recent active, inactive
2. **Commit patterns**: Frequency, trend, most active days
3. **Code churn hotspots**: Files changed most often ‚Üí focus testing here
4. **Stale code**: Files not touched >12 months ‚Üí candidates for cleanup

---

## CATEGORY 14: PERFORMANCE PROFILING

**Extract:**
1. **N+1 Query risks**: Relationships accessed without eager loading
2. **Missing indexes**: FK columns, frequently-queried columns
3. **Large payloads**: Endpoints returning full collections without pagination
4. **Caching gaps**: Expensive queries not cached
5. **Estimated improvement**: Before/after metrics

---

## CATEGORY 15: DEPENDENCY GRAPH

**Extract:**
1. **Import graph**: Controller ‚Üí Service ‚Üí Repository ‚Üí Model
2. **Circular dependencies**: A imports B, B imports A
3. **God classes**: Imported by too many other files
4. **Unused packages**: Installed but never imported
5. **Outdated packages**: Major versions behind

---

## CATEGORY 16: CODE COMPLEXITY HEATMAP

**Extract:**
1. **Files >500 lines** = üî¥ Red (high complexity, split needed)
2. **Files 300-500 lines** = üü° Yellow (monitor)
3. **Files <300 lines** = üü¢ Green (healthy)
4. **Methods >50 lines** = Flag for refactoring
5. **Refactor priority** list (top 5 files)

---

## CATEGORY 17: API TESTING STRATEGY

**Extract:**
1. **Endpoint coverage**: Which endpoints have tests vs untested
2. **Critical flows**: Auth ‚Üí action ‚Üí verify (E2E paths)
3. **Error scenario coverage**: 400, 401, 403, 404, 500 tested?
4. **Performance testing**: Load/stress tests configured?
5. **Security testing**: SQL injection, XSS, auth bypass tested?

---

## üìÇ OUTPUT: GENERATE 3 FILES

After completing ALL 17 categories, you MUST generate:

### FILE 1: docs/PLAN.md

Save to: `[PROJECT_ROOT]/docs/PLAN.md`

**Structure (v5.0 project-bootstrap template):**
```markdown
# [Project Name] ‚Äî Project Plan

## MVP Scope
- Feature 1 (from analysis ‚Äî existing, working)
- Feature 2 (existing, partial)
- Feature 3 (planned)

## Architecture Overview
- System diagram (Mermaid) from Category 5-6
- Data flow, component relationships

## Database Schema
- Schema from Category 4-5 analysis

## Tech Decisions
| Decision | Reason | Alternatives |
|----------|--------|-------------|
| {tech from Category 1} | {why} | {other options} |

## Current State & Maturity
### ‚úÖ Completed
- {from analysis ‚Äî what's built and working}
### ‚¨ú Not Started / Placeholder
- {from analysis ‚Äî stubs or gaps}

## Technical Debt & Risks
| Priority | Issue | Location |
|----------|-------|----------|
| üî¥ HIGH | {from Category 11-14} | {file} |
| üü° MEDIUM | {moderate issue} | {file} |

## Milestones & Roadmap
| Phase | Milestone | Target | Status |
|-------|-----------|--------|--------|
| Fix | Critical fixes (security, perf) | Week 1 | ‚¨ú |
| Quality | Tests + docs | Week 2-3 | ‚¨ú |
| Features | New development | Week 4+ | ‚¨ú |

<!-- antigravity: v1.0 -->
```

---

### FILE 2: docs/CONVENTIONS.md

Save to: `[PROJECT_ROOT]/docs/CONVENTIONS.md`

**Structure:**
```markdown
# PROJECT CONVENTIONS

## Naming Conventions
- Files, folders, variables, functions, classes, database tables

## Code Patterns
- Service layer pattern, repository pattern, etc.
- Error handling strategy
- Validation approach

## Git Conventions
- Branch naming, commit format, PR process

## Testing Conventions
- Test file naming, test patterns, coverage targets

## API Conventions
- URL patterns, response format, error format, versioning
```

---

### FILE 3: tasks/todo.md + tasks/lessons.md

Save to: `[PROJECT_ROOT]/tasks/`

**Structure:**
```markdown
# [Project Name] ‚Äî Tasks

**Updated:** {date}

## In Progress
- [ ] Fix N+1 queries (from Category 14)
- [ ] Add missing indexes (from Category 5)

## Backlog
- [ ] Implement caching strategy
- [ ] Add API pagination
- [ ] Refactor god classes (from Category 16)
- [ ] Add integration tests (from Category 9)

## Completed
- [x] Codebase analysis ({date})

<!-- antigravity: v1.0 -->
```

Also create `tasks/lessons.md`:
```markdown
# [Project Name] ‚Äî Lessons Learned

**Updated:** {date}

## Patterns That Work
{To be filled by PHASE FINAL}

## Mistakes Made
{To be filled when issues occur}

## Rules
{Project-specific rules}

<!-- antigravity: v1.0 -->
```

---

## üéØ VALIDATION CHECKLIST

Before delivering, verify:

- [ ] All 17 categories analyzed with REAL data (not generic examples)
- [ ] docs/PLAN.md generated and complete (v5.0 project-bootstrap format)
- [ ] docs/CONVENTIONS.md generated with detected patterns
- [ ] tasks/todo.md generated with prioritized action items
- [ ] tasks/lessons.md template created
- [ ] No placeholders ‚Äî every metric is from actual analysis
- [ ] Framework-specific recommendations (not generic advice)
- [ ] Security findings flagged with severity
- [ ] Performance improvements quantified (estimated % improvement)

---

## üß† RBA (Reasoning-Before-Action)

```yaml
analysis_plan:
  objective: "Generate complete Project Plan via 17-category analysis"
  approach: "Systematic file-by-file analysis, extract metrics, generate docs"
  categories: 17
  outputs: ["docs/PLAN.md", "docs/CONVENTIONS.md", "tasks/todo.md", "tasks/lessons.md"]
  decision: "PROCEED"
  reason: "Structured analysis ensures comprehensive coverage"
  risks:
    - "Large codebase may exceed context ‚Äî prioritize critical files"
    - "Some metrics need runtime profiling ‚Äî estimate where needed"
  mitigations:
    - "Analyze directory structure first, then deep-dive critical files"
    - "Clearly label estimates vs measured values"
```

---

## üöÄ EXECUTION ORDER

1. **READ** directory structure (tree command or file list)
2. **SCAN** config files first (Category 1: Tech Stack)
3. **ANALYZE** core categories 2-12 (routes ‚Üí security)
4. **RUN** git commands for Category 13
5. **PROFILE** performance (Category 14-17)
6. **SYNTHESIZE** findings into 3 output files
7. **VALIDATE** against checklist ‚Äî no gaps, no placeholders
8. **PRESENT** summary with key findings and recommendations

---

### ‚úÇÔ∏è **CUT HERE** ‚¨ÜÔ∏è

---

**Created:** 2026-01-17  
**Updated:** 2026-02-12  
**Version:** 3.0 ULTIMATE  
**Status:** Production-ready (100/100)
